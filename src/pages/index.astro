---
import Layout from '../layouts/Layout.astro';
import { getEvents } from '../lib/getEvents.ts';

// Fetch latest 3 entries by created time
const events = await getEvents({
  sortField: 'Created',
  sortDirection: 'desc',
  maxRecords: 3
});
---

<Layout>
  <h1>More Rain</h1>
  <p>Tracking floods, storms, and other major climate events around the world.</p>

  <!-- List preview cards -->
  <ul>
    {events.map(event => (
      <li><a href={`/events/${event.slug}`}>{event.title}</a></li>
    ))}
  </ul>

  <a href="/browse">Browse All Events â†’</a>
</Layout>
