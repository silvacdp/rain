---
import Layout from '../layouts/Layout.astro';
import EventCard from '../layouts/EventCard.astro';

// Load events dynamically from Airtable via server-side utility
import getEvents from '../lib/getEvents.ts';
const events = await getEvents();
---

<!-- Page layout wrapper -->
<Layout title="All Events">
  <main class="page-container">
    <h2 class="page-title">All Events</h2>

    <!-- Events Grid -->
    <section class="event-grid">
      {events.map(event => (
        <EventCard event={event} showFullSummary={false} />
      ))}
    </section>
  </main>
</Layout>

<style>
  /* Main page container */
  .page-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 2rem 1rem;
  }

  /* Page title styling */
  .page-title {
    font-size: 2rem;
    margin-bottom: 1.5rem;
    text-align: center;
    color: var(--white);
  }

  /* Grid layout for events */
  .event-grid {
    display: grid;
    gap: 2rem;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  }
</style>
